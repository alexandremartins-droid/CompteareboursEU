<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Mission 2 – Ideal Journey</title>

  <!-- Orbitron + Inter (same DA as other missions) -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;600;700;900&family=Inter:wght@300;400;500;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bgA: rgba(0,0,0,0.35);
      --card: rgba(255,255,255,0.06);
      --cardBorder: rgba(255,255,255,0.08);
      --blue: #2aa8ff;
      --cyan: #19dfff;
      --text: #d4e7ff;
      --muted:#b8dfff;
      --title:#ffffff;
      --accent:#3bc4ff;
      --shadow: 0 0 20px rgba(0,0,0,0.35);
    }

    html, body{
      margin:0;
      padding:40px;
      background:transparent !important;
      font-family:'Inter', sans-serif; /* same as missions */
      color:var(--text);
      line-height:1.65;
      overflow-x:hidden;
    }

    /* Header */
    .header-badge{
      display:inline-block;
      padding:6px 14px;
      font-size:12px;
      border-radius:20px;
      border:1px solid var(--blue);
      color:var(--blue);
      margin-bottom:12px;
      letter-spacing:1px;
      text-transform:uppercase;
      background: rgba(0,0,0,0.20);
      box-shadow: 0 0 0 1px rgba(255,255,255,0.04);
    }

    h1{
      font-family:'Orbitron', sans-serif;
      font-size:40px; /* unchanged */
      font-weight:800;
      letter-spacing:3px;
      color:var(--title);
      margin:0 0 12px 0;
    }

    .subtitle{
      max-width:1100px;
      color:var(--muted);
      margin:0 0 22px 0;
      font-size:17px; /* +2px */
    }

    /* Main card (NO "glass" effect) */
    .wrap{
      max-width:1100px;
      background:var(--card);
      border:1px solid var(--cardBorder);
      border-radius:18px;
      padding:26px 28px;
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
    }

    /* Section title */
    .section-title{
      margin:26px 0 10px 0;
      font-family:'Orbitron', sans-serif;
      font-size:18px; /* +2px */
      letter-spacing:2px;
      color:var(--accent);
      text-transform:uppercase;
    }

    /* Score explanation cards */
    .score-grid{
      display:grid;
      grid-template-columns: 1fr;
      gap:12px;
      margin-top:14px;
    }
    @media (min-width: 860px){
      .score-grid{ grid-template-columns: 1fr 1fr 1fr; }
    }

    .score-card{
      background: rgba(0,0,0,0.30);
      border:1px solid rgba(59,196,255,0.35);
      border-radius:16px;
      padding:16px 16px; /* slightly bigger */
      box-shadow: 0 0 18px rgba(59,196,255,0.10);
      position:relative;
      overflow:hidden;
      transform: translateY(0);
      transition: transform .22s ease, border-color .22s ease, box-shadow .22s ease;
    }
    .score-card:hover{
      transform: translateY(-2px);
      border-color: rgba(59,196,255,0.65);
      box-shadow: 0 0 22px rgba(59,196,255,0.18);
    }
    .score-label{
      font-family:'Orbitron', sans-serif;
      text-transform:uppercase;
      letter-spacing:1.6px;
      font-size:14px; /* +2px */
      color:#ffffff;
      margin:0 0 6px 0;
    }
    .score-value{
      font-family:'Orbitron', sans-serif;
      font-weight:900;
      letter-spacing:2px;
      color:var(--cyan);
      font-size:24px; /* +2px */
      margin:0;
    }
    .score-note{
      margin:8px 0 0 0;
      color:var(--muted);
      font-size:15px; /* +2px */
    }

    /* Journey timeline */
    .timeline{
      margin-top:14px;
      display:grid;
      grid-template-columns: 1fr;
      gap:12px;
    }

    .step{
      background: rgba(0,0,0,0.32);
      border:1px solid rgba(255,255,255,0.10);
      border-radius:16px;
      padding:18px 18px 16px 18px; /* slightly bigger */
      position:relative;
      overflow:hidden;
      transform: translateY(0);
      transition: transform .22s ease, border-color .22s ease, box-shadow .22s ease;
    }
    .step:hover{
      transform: translateY(-2px);
      border-color: rgba(25,223,255,0.40);
      box-shadow: 0 0 22px rgba(25,223,255,0.12);
    }

    .step-top{
      display:flex;
      align-items:flex-start;
      gap:12px;
    }

    .node{
      width:14px;
      height:14px;
      border-radius:50%;
      background: var(--cyan);
      box-shadow: 0 0 16px rgba(25,223,255,0.35);
      margin-top:6px;
      flex:0 0 auto;
      position:relative;
    }
    .node::after{
      content:"";
      position:absolute;
      inset:-10px;
      border-radius:999px;
      border:1px solid rgba(25,223,255,0.25);
      opacity:0;
      animation: pulse 2.2s ease-in-out infinite;
    }
    @keyframes pulse{
      0%{ transform: scale(0.7); opacity:0; }
      30%{ opacity:0.35; }
      70%{ opacity:0.12; }
      100%{ transform: scale(1.4); opacity:0; }
    }

    .step h3{
      margin:0 0 8px 0;
      font-family:'Orbitron', sans-serif;
      color:#ffffff;
      letter-spacing:2px;
      text-transform:uppercase;
      font-size:17px; /* +2px */
    }
    .step p{
      margin:0;
      color:var(--text);
      font-size:17px; /* +2px */
    }
    .step .micro{
      margin-top:10px;
      font-size:15px; /* +2px */
      color:var(--muted);
    }

    /* Outcome card */
    .outcome{
      margin-top:18px;
      background: linear-gradient(135deg, rgba(25,223,255,0.10), rgba(0,0,0,0.34));
      border: 1px solid rgba(25,223,255,0.28);
      border-radius:16px;
      padding:16px 16px;
      box-shadow: 0 0 22px rgba(25,223,255,0.10);
    }
    .outcome-title{
      font-family:'Orbitron', sans-serif;
      margin:0 0 8px 0;
      letter-spacing:2px;
      text-transform:uppercase;
      color:#ffffff;
      font-size:17px; /* +2px */
    }
    .outcome p{
      margin:0;
      color:var(--muted);
      font-size:16px; /* +2px */
      line-height:1.6;
    }

    /* Reveal animations (keep immersive) */
    .reveal{
      opacity:0;
      transform: translateY(14px);
      transition: opacity 520ms ease, transform 520ms ease;
    }
    .reveal.is-visible{
      opacity:1;
      transform: translateY(0);
    }
    .stagger > *{
      transition-delay: var(--d, 0ms);
    }

    .spacer{ height:2px; }
  </style>
</head>

<body>
  <div class="header-badge">Mission: Connected Heroes · Mission 2</div>
  <h1>Ideal Journey</h1>
  <p class="subtitle">
    This page summarizes the best decisions to achieve the most efficient route in Mission 2. Follow the optimal path step by step — like a true Connected Hero.
  </p>

  <main class="wrap">

    <!-- SCORE EXPLANATION -->
    <div class="reveal">
      <div class="section-title">Score explanation</div>
      <div class="score-grid stagger">
        <div class="score-card reveal" style="--d:80ms">
          <p class="score-label">Score range</p>
          <p class="score-value">300 – 500 = 1 pt</p>
          <p class="score-note">Basic performance</p>
        </div>

        <div class="score-card reveal" style="--d:160ms">
          <p class="score-label">Score range</p>
          <p class="score-value">500 – 600 = 2 pts</p>
          <p class="score-note">Strong performance</p>
        </div>

        <div class="score-card reveal" style="--d:240ms">
          <p class="score-label">Score range</p>
          <p class="score-value">600+ = 3 pts</p>
          <p class="score-note">Top performance</p>
        </div>
      </div>
    </div>

    <!-- IDEAL PATH -->
    <div class="reveal" style="margin-top:28px;">
      <div class="section-title">Optimal path</div>

      <div class="timeline stagger">
        <div class="step reveal" style="--d:80ms">
          <div class="step-top">
            <div class="node" aria-hidden="true"></div>
            <div>
              <h3>01 · Vehicle preparation</h3>
              <p>Start strong: charge to <b>80%</b> and <b>preheat</b> before departure for better overall balance.</p>
              <p class="micro">There’s no need to charge to 100%, as this wastes time without optimizing your battery further.</p>
            </div>
          </div>
        </div>

        <div class="step reveal" style="--d:160ms">
          <div class="step-top">
            <div class="node" aria-hidden="true"></div>
            <div>
              <h3>02 · Digital co-pilot</h3>
              <p><b>EV Routing onboard</b> outperforms eRoute and Google Maps by offering the fastest and most optimized routes.</p>
              <p class="micro">You get reliable charging/travel estimates, and navigation stays active even in areas without network coverage.</p>
            </div>
          </div>
        </div>

        <div class="step reveal" style="--d:240ms">
          <div class="step-top">
            <div class="node" aria-hidden="true"></div>
            <div>
              <h3>03 · Driving style</h3>
              <p>Choose <b>Balanced</b> driving during the first long segment to keep a strong pace without draining the battery.</p>
            </div>
          </div>
        </div>

        <div class="step reveal" style="--d:320ms">
          <div class="step-top">
            <div class="node" aria-hidden="true"></div>
            <div>
              <h3>04 · Long break & charging</h3>
              <p>Use the <b>my eRemote App</b> during charging to optimize time and avoid unnecessary delays due to overcharging.</p>
            </div>
          </div>
        </div>

        <div class="step reveal" style="--d:400ms">
          <div class="step-top">
            <div class="node" aria-hidden="true"></div>
            <div>
              <h3>05 · Tire pressure alert</h3>
              <p>Call the <b>Call Center</b> immediately to check your tire pressure before taking any unnecessary risks.</p>
            </div>
          </div>
        </div>
      </div>

      <div class="outcome reveal" style="--d:520ms">
        <p class="outcome-title">Outcome</p>
        <p>
          With these choices, you follow the most reliable and efficient path — maximizing your chances to reach the Laboratory with a strong final outcome.
        </p>
      </div>
    </div>

    <div class="spacer"></div>
  </main>

  <script>
    /* =========================================================
       IMMERSIVE REVEAL (IntersectionObserver + stagger)
    ========================================================= */
    const revealEls = Array.from(document.querySelectorAll(".reveal"));
    const io = new IntersectionObserver((entries) => {
      entries.forEach((e) => {
        if (e.isIntersecting) e.target.classList.add("is-visible");
      });
      sendHeightDelayed();
    }, { threshold: 0.12 });

    revealEls.forEach((el) => io.observe(el));

    /* =========================================================
       SHAREPOINT IFRAME AUTO-RESIZE
    ========================================================= */
    function sendHeight() {
      const height = document.documentElement.scrollHeight;
      parent.postMessage({ type: "resizeM2IdealJourney", height: height }, "*");
    }
    function sendHeightDelayed(){ setTimeout(sendHeight, 250); }

    window.addEventListener("load", () => { sendHeight(); setInterval(sendHeight, 900); });
    window.addEventListener("resize", sendHeight);
  </script>
</body>
</html>
