<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>play-scroll.html</title>

  <!-- Orbitron + Inter (DA globale) -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700;900&family=Inter:wght@300;400;500;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --cyan:#0edfe3;
    }

    html, body{
      margin:0;
      padding:0;
      background:transparent !important;
      font-family:'Inter', sans-serif;
      color:#d4e7ff;
      overflow-x:hidden;
    }

    /* ✅ marges haut/bas pour éviter que le halo soit coupé */
    .wrap{
      width:100%;
      display:flex;
      justify-content:center;
      padding: 34px 0 34px;   /* ⬅️ plus d’air */
    }

    /* ===== PLAY BUTTON ===== */
    .play-btn{
      position:relative;
      isolation:isolate;

      border:0;
      background:transparent;
      cursor:pointer;

      font-family:'Orbitron', sans-serif;
      font-size:18px;
      font-weight:900;
      letter-spacing:4px;
      text-transform:uppercase;

      color: var(--cyan);

      padding: 16px 36px;
      border-radius: 999px;

      /* contour subtil */
      box-shadow:
        0 0 0 1px rgba(14,223,227,0.42) inset,
        0 0 14px rgba(14,223,227,0.10);
      transition:
        transform .22s ease,
        box-shadow .22s ease,
        color .22s ease,
        background-color .22s ease,
        filter .22s ease;
      outline:none;
    }

    /* ✅ halo plus subtil */
    .play-btn::before{
      content:"";
      position:absolute;
      inset:-14px;                  /* ⬅️ moins large */
      border-radius:999px;
      background:
        radial-gradient(circle at 40% 35%, rgba(14,223,227,0.18), rgba(14,223,227,0.0) 62%),
        radial-gradient(circle at 70% 80%, rgba(14,223,227,0.10), rgba(14,223,227,0.0) 68%);
      filter: blur(14px);           /* ⬅️ blur plus doux */
      opacity: 0.70;                /* ⬅️ moins prononcé */
      z-index:-1;
      animation: haloPulse 3.0s ease-in-out infinite;
      transition: opacity .22s ease, filter .22s ease, transform .22s ease;
      pointer-events:none;
    }

    .play-btn span{
      position:relative;
      z-index:2;
      text-shadow: 0 0 14px rgba(14,223,227,0.18);
    }

    /* ✅ Hover : fond plein cyan + texte blanc */
    .play-btn:hover{
      background: var(--cyan);
      color:#ffffff;
      transform: translateY(-2px) scale(1.03);
      filter: brightness(1.03);
      box-shadow:
        0 0 0 1px rgba(255,255,255,0.16) inset,
        0 0 22px rgba(14,223,227,0.24),
        0 0 44px rgba(14,223,227,0.14);
    }
    .play-btn:hover span{
      text-shadow: 0 0 14px rgba(0,0,0,0.22);
    }
    .play-btn:hover::before{
      opacity: 0.85;               /* léger boost mais reste subtil */
      filter: blur(16px);
      transform: scale(1.02);
    }

    /* ✅ Au clic : garder un état stable (pas d’écrasement) */
    .play-btn:active{
      transform: translateY(-2px) scale(1.03);
    }

    .play-btn:focus-visible{
      box-shadow:
        0 0 0 2px rgba(14,223,227,0.55),
        0 0 22px rgba(14,223,227,0.18);
    }

    @keyframes haloPulse{
      0%   { transform: scale(1);    opacity: 0.55; }
      45%  { transform: scale(1.02); opacity: 0.80; }
      100% { transform: scale(1);    opacity: 0.58; }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <button id="playScroll" class="play-btn" type="button" aria-label="Play">
      <span>PLAY</span>
    </button>
  </div>

  <script>
    /* =========================================
       PLAY → scroll down 2000px (in-iframe)
    ========================================= */
    const btn = document.getElementById("playScroll");

    btn.addEventListener("click", () => {
      const current = window.pageYOffset || document.documentElement.scrollTop || 0;
      const target = Math.min(
        current + 2000,
        document.documentElement.scrollHeight - window.innerHeight
      );
      window.scrollTo({ top: target, behavior: "smooth" });

      setTimeout(sendHeight, 250);
      setTimeout(sendHeight, 900);
    });

    /* =========================================
       SharePoint iframe auto-resize
    ========================================= */
    function sendHeight() {
      const height = document.documentElement.scrollHeight;
      parent.postMessage({ type: "resizePlayCTA", height }, "*");
    }

    window.addEventListener("load", () => {
      sendHeight();
      setInterval(sendHeight, 900);
    });
    window.addEventListener("resize", sendHeight);
  </script>
</body>
</html>
